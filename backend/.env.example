# Claude Code Mobile Backend Environment Configuration
# Copy this file to .env and adjust values for your deployment

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
ENVIRONMENT=development
DEBUG=true
APP_NAME="Claude Code Mobile Backend"
APP_VERSION=1.0.0

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
HOST=0.0.0.0
PORT=8000
WORKERS=4

# Development/Production port mappings
BACKEND_PORT=8000
HTTP_PORT=80
HTTPS_PORT=443

# =============================================================================
# CORS SETTINGS (Mobile Client Support)
# =============================================================================
# Development: Allow all origins
CORS_ORIGINS=["*"]
# Production: Specific origins only
# CORS_ORIGINS=["https://localhost:*","capacitor://localhost","https://yourdomain.com"]
CORS_ALLOW_CREDENTIALS=true

# =============================================================================
# CLAUDE CODE SDK SETTINGS
# =============================================================================
# REQUIRED: Your Claude API key
CLAUDE_API_KEY=your_claude_api_key_here

# Claude model configuration
CLAUDE_MODEL=claude-3-5-sonnet-20241022
CLAUDE_MAX_TOKENS=8192
CLAUDE_TEMPERATURE=0.7
CLAUDE_TIMEOUT=60

# =============================================================================
# SESSION MANAGEMENT
# =============================================================================
MAX_SESSIONS_PER_USER=10
SESSION_TIMEOUT=3600
MESSAGE_HISTORY_LIMIT=100

# =============================================================================
# NETWORKING MODE
# =============================================================================
# Phase 1: HTTP mode
NETWORKING_MODE=http

# Phase 2: OpenZiti zero-trust mode
# NETWORKING_MODE=ziti
# ZITI_IDENTITY_FILE=/app/ziti/client-identity.json
# ZITI_SERVICE_NAME=claude-api

# =============================================================================
# SECURITY SETTINGS
# =============================================================================
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_DIR=./logs

# =============================================================================
# DOCKER DEPLOYMENT SETTINGS
# =============================================================================
BUILD_TARGET=production
MEMORY_LIMIT=1G
CPU_LIMIT=1.0
VOLUME_MODE=ro

# =============================================================================
# REDIS (Phase 2 - Production Session Storage)
# =============================================================================
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password_here

# =============================================================================
# SSL/TLS SETTINGS (Production)
# =============================================================================
SSL_CERT_DIR=./ssl

# =============================================================================
# OPENZITI SETTINGS (Phase 2)
# =============================================================================
ZITI_IDENTITY_DIR=./ziti